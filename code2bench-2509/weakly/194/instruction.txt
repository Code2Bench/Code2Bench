from collections import Counter

def calculate_ngram_repetition(text: str, n: int) -> float:
    """
    Calculates the proportion of repeated n-grams in a given text.

    This function splits the input text into words and generates n-grams of the specified size `n`. It then computes the frequency of each n-gram and determines the proportion of n-grams that appear more than once. If there are no n-grams (e.g., when the text is empty or `n` is larger than the number of words in the text), the function returns 0.

    Args:
        text (str): The input text to analyze, consisting of words separated by spaces.
        n (int): The size of the n-grams to generate (e.g., 2 for bigrams, 3 for trigrams).

    Returns:
        float: The proportion of n-grams that are repeated in the text. Returns 0 if no n-grams can be generated.

    Raises:
        ValueError: If `n` is less than or equal to 0.
    """
    # TODO: Implement this function
    pass